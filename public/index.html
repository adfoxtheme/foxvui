<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#181d36">
    <link rel="stylesheet" href="font/css/all.css">
    <link rel="icon" href="ico.png">
    <title>Foxvui - Trình duyệt trò chơi mini</title>
    <script type="module">
        // Import Tauri API
        import { window as tauriWindow } from 'https://cdn.jsdelivr.net/npm/@tauri-apps/api@2/window';
        window.tauriWindow = tauriWindow;
    </script>
    <style>
        /* ===== GOOGLE FONTS ===== */
        @import url('https://fonts.googleapis.com/css2?family=Cal+Sans&display=swap');

        /* ===== RESET & BASE STYLES ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cal Sans', 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        /* ===== INPUT SCREEN ===== */
        #input-screen {
            background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);
            padding: 40px;
            border-radius: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            text-align: center;
            max-width: 500px;
            width: 90%;
            animation: fadeIn 0.5s ease-in-out;
            border: 2px solid rgba(102, 126, 234, 0.3);
        }

        #input-screen.hidden {
            display: none;
        }

        h1 {
            color: #a8b2ff;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 8px rgba(168, 178, 255, 0.3);
        }


        /* Input field styling */
        #slug-input {
            width: 100%;
            padding: 20px;
            font-size: 1.3em;
            border: 3px solid #4a5568;
            border-radius: 15px;
            outline: none;
            transition: all 0.3s ease;
            margin-bottom: 20px;
            text-align: center;
            font-family: 'Cal Sans', 'Comic Sans MS', cursive, sans-serif;
            background: #1a202c;
            color: #e2e8f0;
            text-transform: lowercase;
        }

        #slug-input:focus {
            border-color: #a8b2ff;
            box-shadow: 0 0 20px rgba(168, 178, 255, 0.5);
            transform: scale(1.02);
        }

        /* Button styling */
        #open-btn {
            width: 100%;
            padding: 20px;
            font-size: 1.5em;
            font-weight: bold;
            color: white;
            background: linear-gradient(135deg, #0f3b7d 0%, #413487 100%);
            border: none;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 20px rgb(21 21 21 / 32%);
            font-family: 'Cal Sans', 'Comic Sans MS', cursive, sans-serif;
        }

        #open-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(21, 21, 21, 0.541);
        }

        #open-btn:active {
            transform: translateY(0);
        }


        /* ===== IFRAME SCREEN ===== */
        #iframe-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0f1419;
            z-index: 1000;
            animation: fadeIn 0.3s ease-in-out;
            display: flex;
            flex-direction: column;
        }

        #iframe-screen.hidden {
            display: none;
        }

        /* Nav Bar */
        .nav-bar {
            height: 55px;
            background: #16213e;
            border-bottom: 3px solid #010710;
            display: flex;
            align-items: center;
            padding: 0 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            z-index: 10;
            justify-content: space-between;
            align-content: center;
        }

        #back-btn {
            background: linear-gradient(135deg, #0f3b7d 0%, #413487 100%);
            border: 2px solid #cccccc45;
            color: white;
            padding: 4px 15px;
            border-radius: 8px;
            font-size: 15px;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            font-family: 'Cal Sans', 'Comic Sans MS', cursive, sans-serif;
        }

        #back-btn:hover {
            transform: translateX(-5px);
            background: linear-gradient(135deg, #1a4d9e 0%, #5444b0 100%);
        }

        #back-btn:active {
            transform: translateX(0);
        }

        /* Iframe Container */
        .iframe-container {
            flex: 1;
            width: 100%;
            position: relative;
            background: black;
            overflow: hidden;
        }



        /* Game iframe */
        #game-iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        /* ===== ANIMATIONS ===== */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }

            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* ===== RESPONSIVE DESIGN ===== */
        @media (max-width: 600px) {
            h1 {
                font-size: 2em;
            }

            #slug-input {
                font-size: 1.1em;
                padding: 15px;
            }

            #open-btn {
                font-size: 1.2em;
                padding: 18px;
            }

            #close-btn {
                width: 40px;
                height: 40px;
                font-size: 1.3em;
                top: 10px;
                right: 10px;
            }

            #input-screen {
                padding: 40px 25px;
            }
        }

        /* For large projectors/screens */
        @media (min-width: 1400px) {
            #input-screen {
                max-width: 700px;
            }

            h1 {
                font-size: 3.5em;
            }


            #slug-input {
                font-size: 1.8em;
                padding: 25px;
            }

            #open-btn {
                font-size: 2em;
                padding: 25px;
            }

            #close-btn {
                width: 55px;
                height: 55px;
                font-size: 1.8em;
            }
        }
    </style>
</head>

<body>
    <!-- ===== MÀN HÌNH NHẬP SLUG ===== -->
    <div id="input-screen">
        <h1><svg width="200px" height="100%" viewBox="0 0 228 59" version="1.1" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/"
                style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2">
                <g transform="matrix(0.691828,0,0,0.691828,-0.12625,-4.633719)">
                    <path
                        d="M95.2,64.701L50,87.298L4.8,64.701L4.8,12.702L50.008,35.318L95.2,12.702L95.2,64.701ZM13.8,27.553L13.706,60.097L49.939,76.215L80.887,61.665L13.8,27.553ZM50.008,35.318L95.057,57.741L58.359,31.139L50.008,35.318Z"
                        style="fill:#fff" />
                </g>
                <g transform="matrix(1.273235,0,0,1.273235,-17.552168,6.316245)">
                    <path
                        d="M95.275,12.738C95.275,12.852 95.171,12.908 94.964,12.908C94.188,12.908 93.01,12.841 91.432,12.707C89.853,12.572 88.671,12.505 87.884,12.505C86.89,12.505 86.311,12.541 86.145,12.613C85.762,12.789 85.57,13.286 85.57,14.104C85.57,15.087 85.819,15.646 86.316,15.781C86.523,15.833 86.839,15.859 87.263,15.859C87.977,15.859 89.046,15.82 90.469,15.742C91.892,15.665 92.961,15.626 93.675,15.626C94.017,15.626 94.188,16.537 94.188,18.358C94.188,19.942 94.131,20.863 94.017,21.122C93.945,21.309 93.805,21.402 93.598,21.402C93.732,21.402 93.406,21.365 92.62,21.293C91.512,21.189 89.835,21.138 87.589,21.138C86.864,21.138 86.456,21.143 86.362,21.153C85.834,21.236 85.57,21.459 85.57,21.821C85.57,23.291 85.633,24.983 85.757,26.898C85.86,28.627 85.912,29.398 85.912,29.212C85.912,29.481 85.586,29.636 84.934,29.677C85.11,29.667 84.649,29.662 83.552,29.662C81.616,29.662 80.369,29.595 79.81,29.46C79.51,29.388 79.36,29.227 79.36,28.979C79.36,27.83 79.399,26.104 79.476,23.801C79.554,21.497 79.593,19.771 79.593,18.622C79.593,17.256 79.531,15.538 79.406,13.467C79.22,10.269 79.122,8.551 79.111,8.313L79.096,8.126C79.085,7.867 79.241,7.738 79.562,7.738C80.328,7.738 81.484,7.754 83.032,7.785C84.579,7.816 85.741,7.831 86.518,7.831C87.346,7.831 88.59,7.769 90.252,7.645C91.913,7.521 93.158,7.459 93.986,7.459C94.504,7.459 94.793,7.671 94.856,8.095C94.856,8.54 94.876,9.208 94.918,10.098C94.938,10.326 95.006,10.766 95.119,11.418C95.223,11.987 95.275,12.427 95.275,12.738Z"
                        style="fill:#fff;fill-rule:nonzero" />
                    <path
                        d="M118.674,18.591C118.674,21.821 117.644,24.528 115.584,26.712C113.483,28.927 110.822,30.035 107.603,30.035C104.405,30.035 101.749,28.917 99.638,26.681C97.568,24.497 96.532,21.8 96.532,18.591C96.532,15.372 97.568,12.665 99.638,10.471C101.749,8.225 104.405,7.101 107.603,7.101C110.781,7.101 113.431,8.225 115.553,10.471C117.633,12.686 118.674,15.393 118.674,18.591ZM112.789,18.56C112.789,17.008 112.318,15.688 111.376,14.601C110.393,13.462 109.135,12.893 107.603,12.893C106.144,12.893 104.907,13.483 103.892,14.663C102.909,15.802 102.417,17.111 102.417,18.591C102.417,20.175 102.878,21.495 103.799,22.551C104.772,23.658 106.04,24.212 107.603,24.212C109.063,24.212 110.305,23.627 111.33,22.457C112.303,21.34 112.789,20.04 112.789,18.56Z"
                        style="fill:#fff;fill-rule:nonzero" />
                    <path
                        d="M138.129,27.395C138.129,28.409 138.082,29.01 137.989,29.196C137.875,29.424 137.523,29.538 136.933,29.538L136.312,29.538C136.002,29.527 135.74,29.522 135.528,29.522C135.316,29.522 135,29.512 134.581,29.491C134.162,29.47 133.849,29.46 133.642,29.46C133.476,29.46 132.731,28.466 131.406,26.479C130.081,24.492 129.392,23.493 129.341,23.482C129.123,23.658 128.378,24.704 127.105,26.619C125.883,28.451 125.169,29.398 124.962,29.46C124.817,29.502 124.429,29.522 123.798,29.522C121.676,29.522 120.615,29.414 120.615,29.196C120.615,28.979 120.602,28.668 120.576,28.265C120.55,27.861 120.537,27.561 120.537,27.364C120.537,26.08 120.615,25.325 120.77,25.097C120.78,25.087 121.634,23.953 123.332,21.697C124.708,19.875 125.397,18.835 125.397,18.576C125.397,18.317 124.708,17.292 123.332,15.501C122.462,14.394 121.598,13.281 120.739,12.163C120.646,12.029 120.589,11.806 120.568,11.496C120.558,11.278 120.558,10.983 120.568,10.611C120.599,10.165 120.615,9.917 120.615,9.865C120.615,9.658 120.596,9.337 120.56,8.903C120.524,8.468 120.506,8.147 120.506,7.94C120.506,7.743 120.687,7.645 121.049,7.645C121.287,7.645 121.639,7.66 122.105,7.691C122.571,7.723 122.918,7.738 123.145,7.738C123.352,7.738 123.658,7.728 124.062,7.707C124.465,7.686 124.765,7.676 124.962,7.676C125.128,7.676 125.881,8.683 127.221,10.696C128.562,12.709 129.263,13.716 129.325,13.716C129.532,13.592 130.293,12.536 131.608,10.548C132.86,8.633 133.579,7.676 133.766,7.676L137.461,7.676C137.823,7.676 138.005,7.764 138.005,7.94L138.005,11.713C138.005,11.982 137.205,13.157 135.606,15.238C134.006,17.318 133.207,18.421 133.207,18.545C133.207,18.721 133.911,19.74 135.318,21.604C136.975,23.788 137.839,24.931 137.911,25.035C138.056,25.263 138.129,26.049 138.129,27.395Z"
                        style="fill:#fff;fill-rule:nonzero" />
                    <path
                        d="M149.355,29.522C147.957,29.522 147.16,29.502 146.964,29.46C146.767,29.419 146.601,29.269 146.467,29.01C145.287,26.681 144.101,24.347 142.911,22.007C141.038,18.25 140.101,16.123 140.101,15.626C140.101,14.808 140.129,13.579 140.186,11.938C140.243,10.297 140.272,9.068 140.272,8.25C140.272,7.867 140.375,7.676 140.582,7.676C141.203,7.676 142.145,7.702 143.408,7.754C144.671,7.805 145.618,7.831 146.249,7.831C146.508,7.831 146.638,7.94 146.638,8.157C146.638,8.996 146.578,10.256 146.459,11.938C146.34,13.62 146.28,14.88 146.28,15.719C146.28,16.361 147.331,18.653 149.432,22.597C150.002,21.572 150.649,20.315 151.373,18.824C152.346,16.816 152.833,15.584 152.833,15.129C152.833,14.373 152.822,13.237 152.802,11.721C152.781,10.204 152.771,9.068 152.771,8.313C152.771,8.033 152.817,7.878 152.91,7.847L153.407,7.847C153.977,7.847 154.838,7.818 155.992,7.761C157.147,7.704 158.008,7.676 158.578,7.676C158.888,7.676 159.043,7.8 159.043,8.049C159.043,8.846 159.031,10.049 159.005,11.659C158.979,13.268 158.966,14.477 158.966,15.284C158.966,15.926 157.946,18.286 155.907,22.364C155.1,23.834 153.935,26.049 152.414,29.01C152.31,29.238 152.24,29.364 152.204,29.39C152.168,29.416 152.036,29.439 151.808,29.46C151.28,29.502 150.462,29.522 149.355,29.522Z"
                        style="fill:#fff;fill-rule:nonzero" />
                    <path
                        d="M179.881,21.836C179.881,24.476 179.565,26.277 178.933,27.24C177.774,28.999 174.881,29.879 170.254,29.879C168.163,29.879 166.553,29.719 165.425,29.398C163.624,28.88 162.454,27.892 161.916,26.432C161.647,25.718 161.512,24.445 161.512,22.613C161.512,22.188 161.528,21.557 161.559,20.718C161.59,19.88 161.605,19.254 161.605,18.84C161.605,17.639 161.548,15.838 161.435,13.436C161.321,11.035 161.264,9.239 161.264,8.049C161.264,7.8 161.373,7.676 161.59,7.676C162.221,7.676 163.176,7.702 164.455,7.754C165.733,7.805 166.688,7.831 167.319,7.831C167.578,7.831 167.707,7.945 167.707,8.173C167.707,9.539 167.663,11.586 167.575,14.314C167.488,17.041 167.444,19.088 167.444,20.455C167.444,22.08 167.614,23.177 167.956,23.746C168.411,24.523 169.364,24.911 170.813,24.911C172.935,24.911 173.996,23.881 173.996,21.821C173.996,20.32 173.96,18.069 173.887,15.067C173.815,12.065 173.778,9.813 173.778,8.313C173.778,7.992 173.908,7.831 174.167,7.831C174.777,7.831 175.699,7.805 176.93,7.754C178.162,7.702 179.083,7.676 179.694,7.676C179.994,7.676 180.144,7.8 180.144,8.049C180.144,9.239 180.095,11.035 179.997,13.436C179.899,15.838 179.849,17.639 179.849,18.84C179.849,19.171 179.855,19.67 179.865,20.338C179.875,21.006 179.881,21.505 179.881,21.836Z"
                        style="fill:#fff;fill-rule:nonzero" />
                    <path
                        d="M189.243,17.986C189.243,19.207 189.274,21.045 189.336,23.498C189.398,25.951 189.43,27.788 189.43,29.01C189.43,29.217 189.383,29.346 189.29,29.398C189.269,29.408 189.135,29.429 188.886,29.46C188.213,29.543 187.313,29.584 186.184,29.584C184.673,29.584 183.71,29.543 183.296,29.46C182.996,29.398 182.846,29.238 182.846,28.979C182.846,29.144 182.893,28.233 182.986,26.246C183.172,22.054 183.265,19.3 183.265,17.986C183.265,16.878 183.229,15.217 183.157,13.002C183.084,10.786 183.048,9.125 183.048,8.018C183.048,7.79 183.167,7.676 183.405,7.676C183.726,7.676 184.21,7.691 184.857,7.723C185.504,7.754 185.988,7.769 186.309,7.769C186.63,7.769 187.103,7.754 187.729,7.723C188.356,7.691 188.829,7.676 189.15,7.676C189.45,7.676 189.6,7.79 189.6,8.018C189.6,9.125 189.541,10.786 189.422,13.002C189.303,15.217 189.243,16.878 189.243,17.986Z"
                        style="fill:#fff;fill-rule:nonzero" />
                </g>
            </svg></h1>
        <!-- Ô nhập slug -->
        <input type="text" id="slug-input" placeholder="Nhập tên trò chơi" autocomplete="off" />
        <button id="open-btn">Mở trò chơi</button>
    </div>

    <!-- ===== MÀN HÌNH IFRAME (ẨN BAN ĐẦU) ===== -->
    <div id="iframe-screen" class="hidden">
        <!-- Nav Bar -->
        <div class="nav-bar">
            <svg width="130px" height="100%" viewBox="0 0 228 59" version="1.1" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/"
                style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2">
                <g transform="matrix(0.691828,0,0,0.691828,-0.12625,-4.633719)">
                    <path
                        d="M95.2,64.701L50,87.298L4.8,64.701L4.8,12.702L50.008,35.318L95.2,12.702L95.2,64.701ZM13.8,27.553L13.706,60.097L49.939,76.215L80.887,61.665L13.8,27.553ZM50.008,35.318L95.057,57.741L58.359,31.139L50.008,35.318Z"
                        style="fill:#fff" />
                </g>
                <g transform="matrix(1.273235,0,0,1.273235,-17.552168,6.316245)">
                    <path
                        d="M95.275,12.738C95.275,12.852 95.171,12.908 94.964,12.908C94.188,12.908 93.01,12.841 91.432,12.707C89.853,12.572 88.671,12.505 87.884,12.505C86.89,12.505 86.311,12.541 86.145,12.613C85.762,12.789 85.57,13.286 85.57,14.104C85.57,15.087 85.819,15.646 86.316,15.781C86.523,15.833 86.839,15.859 87.263,15.859C87.977,15.859 89.046,15.82 90.469,15.742C91.892,15.665 92.961,15.626 93.675,15.626C94.017,15.626 94.188,16.537 94.188,18.358C94.188,19.942 94.131,20.863 94.017,21.122C93.945,21.309 93.805,21.402 93.598,21.402C93.732,21.402 93.406,21.365 92.62,21.293C91.512,21.189 89.835,21.138 87.589,21.138C86.864,21.138 86.456,21.143 86.362,21.153C85.834,21.236 85.57,21.459 85.57,21.821C85.57,23.291 85.633,24.983 85.757,26.898C85.86,28.627 85.912,29.398 85.912,29.212C85.912,29.481 85.586,29.636 84.934,29.677C85.11,29.667 84.649,29.662 83.552,29.662C81.616,29.662 80.369,29.595 79.81,29.46C79.51,29.388 79.36,29.227 79.36,28.979C79.36,27.83 79.399,26.104 79.476,23.801C79.554,21.497 79.593,19.771 79.593,18.622C79.593,17.256 79.531,15.538 79.406,13.467C79.22,10.269 79.122,8.551 79.111,8.313L79.096,8.126C79.085,7.867 79.241,7.738 79.562,7.738C80.328,7.738 81.484,7.754 83.032,7.785C84.579,7.816 85.741,7.831 86.518,7.831C87.346,7.831 88.59,7.769 90.252,7.645C91.913,7.521 93.158,7.459 93.986,7.459C94.504,7.459 94.793,7.671 94.856,8.095C94.856,8.54 94.876,9.208 94.918,10.098C94.938,10.326 95.006,10.766 95.119,11.418C95.223,11.987 95.275,12.427 95.275,12.738Z"
                        style="fill:#fff;fill-rule:nonzero" />
                    <path
                        d="M118.674,18.591C118.674,21.821 117.644,24.528 115.584,26.712C113.483,28.927 110.822,30.035 107.603,30.035C104.405,30.035 101.749,28.917 99.638,26.681C97.568,24.497 96.532,21.8 96.532,18.591C96.532,15.372 97.568,12.665 99.638,10.471C101.749,8.225 104.405,7.101 107.603,7.101C110.781,7.101 113.431,8.225 115.553,10.471C117.633,12.686 118.674,15.393 118.674,18.591ZM112.789,18.56C112.789,17.008 112.318,15.688 111.376,14.601C110.393,13.462 109.135,12.893 107.603,12.893C106.144,12.893 104.907,13.483 103.892,14.663C102.909,15.802 102.417,17.111 102.417,18.591C102.417,20.175 102.878,21.495 103.799,22.551C104.772,23.658 106.04,24.212 107.603,24.212C109.063,24.212 110.305,23.627 111.33,22.457C112.303,21.34 112.789,20.04 112.789,18.56Z"
                        style="fill:#fff;fill-rule:nonzero" />
                    <path
                        d="M138.129,27.395C138.129,28.409 138.082,29.01 137.989,29.196C137.875,29.424 137.523,29.538 136.933,29.538L136.312,29.538C136.002,29.527 135.74,29.522 135.528,29.522C135.316,29.522 135,29.512 134.581,29.491C134.162,29.47 133.849,29.46 133.642,29.46C133.476,29.46 132.731,28.466 131.406,26.479C130.081,24.492 129.392,23.493 129.341,23.482C129.123,23.658 128.378,24.704 127.105,26.619C125.883,28.451 125.169,29.398 124.962,29.46C124.817,29.502 124.429,29.522 123.798,29.522C121.676,29.522 120.615,29.414 120.615,29.196C120.615,28.979 120.602,28.668 120.576,28.265C120.55,27.861 120.537,27.561 120.537,27.364C120.537,26.08 120.615,25.325 120.77,25.097C120.78,25.087 121.634,23.953 123.332,21.697C124.708,19.875 125.397,18.835 125.397,18.576C125.397,18.317 124.708,17.292 123.332,15.501C122.462,14.394 121.598,13.281 120.739,12.163C120.646,12.029 120.589,11.806 120.568,11.496C120.558,11.278 120.558,10.983 120.568,10.611C120.599,10.165 120.615,9.917 120.615,9.865C120.615,9.658 120.596,9.337 120.56,8.903C120.524,8.468 120.506,8.147 120.506,7.94C120.506,7.743 120.687,7.645 121.049,7.645C121.287,7.645 121.639,7.66 122.105,7.691C122.571,7.723 122.918,7.738 123.145,7.738C123.352,7.738 123.658,7.728 124.062,7.707C124.465,7.686 124.765,7.676 124.962,7.676C125.128,7.676 125.881,8.683 127.221,10.696C128.562,12.709 129.263,13.716 129.325,13.716C129.532,13.592 130.293,12.536 131.608,10.548C132.86,8.633 133.579,7.676 133.766,7.676L137.461,7.676C137.823,7.676 138.005,7.764 138.005,7.94L138.005,11.713C138.005,11.982 137.205,13.157 135.606,15.238C134.006,17.318 133.207,18.421 133.207,18.545C133.207,18.721 133.911,19.74 135.318,21.604C136.975,23.788 137.839,24.931 137.911,25.035C138.056,25.263 138.129,26.049 138.129,27.395Z"
                        style="fill:#fff;fill-rule:nonzero" />
                    <path
                        d="M149.355,29.522C147.957,29.522 147.16,29.502 146.964,29.46C146.767,29.419 146.601,29.269 146.467,29.01C145.287,26.681 144.101,24.347 142.911,22.007C141.038,18.25 140.101,16.123 140.101,15.626C140.101,14.808 140.129,13.579 140.186,11.938C140.243,10.297 140.272,9.068 140.272,8.25C140.272,7.867 140.375,7.676 140.582,7.676C141.203,7.676 142.145,7.702 143.408,7.754C144.671,7.805 145.618,7.831 146.249,7.831C146.508,7.831 146.638,7.94 146.638,8.157C146.638,8.996 146.578,10.256 146.459,11.938C146.34,13.62 146.28,14.88 146.28,15.719C146.28,16.361 147.331,18.653 149.432,22.597C150.002,21.572 150.649,20.315 151.373,18.824C152.346,16.816 152.833,15.584 152.833,15.129C152.833,14.373 152.822,13.237 152.802,11.721C152.781,10.204 152.771,9.068 152.771,8.313C152.771,8.033 152.817,7.878 152.91,7.847L153.407,7.847C153.977,7.847 154.838,7.818 155.992,7.761C157.147,7.704 158.008,7.676 158.578,7.676C158.888,7.676 159.043,7.8 159.043,8.049C159.043,8.846 159.031,10.049 159.005,11.659C158.979,13.268 158.966,14.477 158.966,15.284C158.966,15.926 157.946,18.286 155.907,22.364C155.1,23.834 153.935,26.049 152.414,29.01C152.31,29.238 152.24,29.364 152.204,29.39C152.168,29.416 152.036,29.439 151.808,29.46C151.28,29.502 150.462,29.522 149.355,29.522Z"
                        style="fill:#fff;fill-rule:nonzero" />
                    <path
                        d="M179.881,21.836C179.881,24.476 179.565,26.277 178.933,27.24C177.774,28.999 174.881,29.879 170.254,29.879C168.163,29.879 166.553,29.719 165.425,29.398C163.624,28.88 162.454,27.892 161.916,26.432C161.647,25.718 161.512,24.445 161.512,22.613C161.512,22.188 161.528,21.557 161.559,20.718C161.59,19.88 161.605,19.254 161.605,18.84C161.605,17.639 161.548,15.838 161.435,13.436C161.321,11.035 161.264,9.239 161.264,8.049C161.264,7.8 161.373,7.676 161.59,7.676C162.221,7.676 163.176,7.702 164.455,7.754C165.733,7.805 166.688,7.831 167.319,7.831C167.578,7.831 167.707,7.945 167.707,8.173C167.707,9.539 167.663,11.586 167.575,14.314C167.488,17.041 167.444,19.088 167.444,20.455C167.444,22.08 167.614,23.177 167.956,23.746C168.411,24.523 169.364,24.911 170.813,24.911C172.935,24.911 173.996,23.881 173.996,21.821C173.996,20.32 173.96,18.069 173.887,15.067C173.815,12.065 173.778,9.813 173.778,8.313C173.778,7.992 173.908,7.831 174.167,7.831C174.777,7.831 175.699,7.805 176.93,7.754C178.162,7.702 179.083,7.676 179.694,7.676C179.994,7.676 180.144,7.8 180.144,8.049C180.144,9.239 180.095,11.035 179.997,13.436C179.899,15.838 179.849,17.639 179.849,18.84C179.849,19.171 179.855,19.67 179.865,20.338C179.875,21.006 179.881,21.505 179.881,21.836Z"
                        style="fill:#fff;fill-rule:nonzero" />
                    <path
                        d="M189.243,17.986C189.243,19.207 189.274,21.045 189.336,23.498C189.398,25.951 189.43,27.788 189.43,29.01C189.43,29.217 189.383,29.346 189.29,29.398C189.269,29.408 189.135,29.429 188.886,29.46C188.213,29.543 187.313,29.584 186.184,29.584C184.673,29.584 183.71,29.543 183.296,29.46C182.996,29.398 182.846,29.238 182.846,28.979C182.846,29.144 182.893,28.233 182.986,26.246C183.172,22.054 183.265,19.3 183.265,17.986C183.265,16.878 183.229,15.217 183.157,13.002C183.084,10.786 183.048,9.125 183.048,8.018C183.048,7.79 183.167,7.676 183.405,7.676C183.726,7.676 184.21,7.691 184.857,7.723C185.504,7.754 185.988,7.769 186.309,7.769C186.63,7.769 187.103,7.754 187.729,7.723C188.356,7.691 188.829,7.676 189.15,7.676C189.45,7.676 189.6,7.79 189.6,8.018C189.6,9.125 189.541,10.786 189.422,13.002C189.303,15.217 189.243,16.878 189.243,17.986Z"
                        style="fill:#fff;fill-rule:nonzero" />
                </g>
            </svg>
            <button id="back-btn" title="Quay lại"><i class="fa-solid fa-arrow-left"></i> Quay lại</button>
        </div>

        <!-- Iframe Container (Full width/height below navbar) -->
        <div class="iframe-container">
            <iframe id="game-iframe" src="" allowfullscreen></iframe>
        </div>
    </div>

    <!-- ===== JAVASCRIPT ===== -->
    <script>
        // Lấy các phần tử DOM
        const inputScreen = document.getElementById('input-screen');
        const iframeScreen = document.getElementById('iframe-screen');
        const slugInput = document.getElementById('slug-input');
        const openBtn = document.getElementById('open-btn');
        const backBtn = document.getElementById('back-btn');
        const gameIframe = document.getElementById('game-iframe');

        // ===== HÀM MỞ GAME =====
        function openGame() {
            // Lấy slug từ input và xóa khoảng trắng thừa
            const slug = slugInput.value.trim();

            // Kiểm tra xem có nhập slug chưa
            if (slug === '') {
                alert('Vui lòng nhập tên trò chơi!');
                slugInput.focus();
                return;
            }

            const gameUrl = `https://foxvui.com/${slug}`;

            // Gán URL vào iframe
            gameIframe.src = gameUrl;

            // Ẩn màn hình nhập, hiện màn hình iframe
            inputScreen.classList.add('hidden');
            iframeScreen.classList.remove('hidden');
        }

        // ===== HÀM ĐÓNG GAME =====
        function closeGame() {
            // Xóa src của iframe để dừng game
            gameIframe.src = '';

            // Ẩn màn hình iframe, hiện màn hình nhập
            iframeScreen.classList.add('hidden');
            inputScreen.classList.remove('hidden');

            // Focus vào ô input để người dùng có thể nhập game khác
            slugInput.focus();
        }

        // ===== SỰ KIỆN CLICK NÚT MỞ GAME =====
        openBtn.addEventListener('click', openGame);

        // ===== SỰ KIỆN CLICK NÚT QUAY LẠI =====
        backBtn.addEventListener('click', closeGame);

        // ===== TỰ ĐỘNG CHUYỂN CHỮ THƯỜNG =====
        slugInput.addEventListener('input', function (e) {
            this.value = this.value.toLowerCase();
        });

        // ===== SỰ KIỆN NHẤN ENTER TRONG Ô INPUT =====
        slugInput.addEventListener('keypress', function (e) {
            if (e.key === 'Enter') {
                openGame();
            }
        });


        // ===== TỰ ĐỘNG FOCUS VÀO Ô INPUT KHI LOAD TRANG =====
        window.addEventListener('load', function () {
            slugInput.focus();
        });

        // ===== XỬ LÝ PHÍM TẮT ESCAPE ĐỂ ĐÓNG GAME =====
        document.addEventListener('keydown', function (e) {
            if (e.key === 'Escape' && !iframeScreen.classList.contains('hidden')) {
                closeGame();
            }
        });
    </script>
</body>

</html>